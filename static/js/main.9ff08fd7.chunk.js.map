{"version":3,"sources":["utils/object-helpers.js","redux/users-reducer.js","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","api/api.js","reportWebVitals.js","redux/sidebar-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","components/Navbar/Navbar.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","App.js","index.js","components/common/FormControls/FormControls.module.css","assets/images/spinner200.svg","components/common/Preloader/Preloader.jsx","components/common/FormControls/FormControls.jsx","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js"],"names":["updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","SET_IS_FETCHING","SET_IN_FOLLOWING_PROGRESS","initialState","users","pageSize","usersTotalCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","setCurrentPage","setIsFetching","setFollowingProgress","requestUsers","page","dispatch","a","usersAPI","getUsers","data","totalCount","follow","followUser","resultCode","unfollow","unfollowUser","usersReducer","state","action","followed","filter","id","module","exports","instance","axios","baseURL","withCredentials","headers","authAPI","auth","get","login","email","password","rememberMe","post","logout","delete","response","profileAPI","getProfile","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","SET_USER_DATA","isAuth","setAuthUserData","payLoad","getAuthUserData","authReducer","INITIALIZING_SUCCEEDED","initialized","appReducer","reducers","combineReducers","dialogsPage","dialogsReducer","profilePage","profileReducer","sidebar","usersPage","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","props","fallback","Preloader","Navbar","className","s","nav","item","to","activeClassName","active","Header","header","src","alt","loginBlock","onClick","HeaderContainer","this","React","connect","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","name","component","Input","validate","required","placeholder","error","formSummaryError","message","messages","length","stopSubmit","_error","formData","console","log","News","Music","Settings","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","path","render","withRouter","promise","Promise","all","ReactDOM","document","getElementById","preloader","preloader_img","FormControl","hasError","touched","formControl","children","Textarea","input","restProps","meta","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","age","likesCount","profile","addPost","newPostBody","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","p","postId","SEND_MESSAGE","dialogs","sendMessage","newMessageBody"],"mappings":"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","file":"static/js/main.9ff08fd7.chunk.js","sourcesContent":["export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if(u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u\r\n  })\r\n}","import { usersAPI } from '../api/api'\r\nimport { updateObjectInArray } from '../utils/object-helpers'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT'\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING'\r\nconst SET_IN_FOLLOWING_PROGRESS = 'SET_IN_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  usersTotalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n\r\n        // users: state.users.map( u => (u.id === action.userId) ? {...u, followed: true} : u )\r\n        \r\n        // users: state.users.map(u => {\r\n        //   if (u.id === action.userId) {\r\n        //     return { ...u, followed: true }\r\n        //   }\r\n        //   return u\r\n        // })\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n        // users: [...state.users, ...action.users] //это чтобы подгружать юзеров в конец списка\r\n      }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n\r\n    case SET_USERS_TOTAL_COUNT:\r\n      return {\r\n        ...state,\r\n        usersTotalCount: action.usersTotalCount\r\n      }\r\n\r\n    case SET_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case SET_IN_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching \r\n        ? [...state.followingInProgress, action.userId]\r\n        : state.followingInProgress.filter(id => id != action.userId)\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setUsersTotalCount = (usersTotalCount) => ({ type: SET_USERS_TOTAL_COUNT, usersTotalCount })\r\nexport const setIsFetching = (isFetching) => ({ type: SET_IS_FETCHING, isFetching })\r\nexport const setFollowingProgress = (isFetching, userId) => ({ type: SET_IN_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  dispatch(setCurrentPage(page))\r\n\r\n  let data = await usersAPI.getUsers(page, pageSize)\r\n\r\n  dispatch(setIsFetching(false))\r\n  dispatch(setUsers(data.items))\r\n  dispatch(setUsersTotalCount(data.totalCount))\r\n}\r\n\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  dispatch(setFollowingProgress(true, userId))\r\n  let data = await usersAPI.followUser(userId)\r\n\r\n  if(data.resultCode == 0) {\r\n    dispatch(followSuccess(userId))\r\n  }\r\n  dispatch(setFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  dispatch(setFollowingProgress(true, userId))\r\n  let data = await usersAPI.unfollowUser(userId)\r\n\r\n  if(data.resultCode == 0) {\r\n    dispatch(unfollowSuccess(userId))\r\n  }\r\n  dispatch(setFollowingProgress(false, userId))\r\n}\r\n\r\n\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__PopGZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Rscw\",\"item\":\"Navbar_item__t1Fkk\",\"active\":\"Navbar_active__SV3FD\"};","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: { 'API-KEY' : 'd31e62f0-73b3-47e7-92c3-7bb81d95d297' }\r\n})\r\n\r\n\r\nexport const authAPI = {\r\n  async auth() {\r\n    return await instance.get(`auth/me`)\r\n  },\r\n  async login(email, password, rememberMe = false) {\r\n    return await instance.post(`auth/login`, { email, password, rememberMe })\r\n  },\r\n  async logout() {\r\n    return await instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage = 1, pageSize = 5) {\r\n    let response = await instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    return response.data\r\n  },\r\n  async followUser(userId) {\r\n    let response = await instance.post(`follow/${userId}`)\r\n    return response.data\r\n  },\r\n  async unfollowUser(userId) {\r\n    let response = await instance.delete(`follow/${userId}`)\r\n    return response.data\r\n  }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n  async getProfile(userId = 16174) {\r\n    return await instance.get(`profile/${userId}`)\r\n  },\r\n  async getStatus(userId = 16174) {\r\n    return await instance.get(`profile/status/${userId}`)\r\n  },\r\n  async updateStatus(status) {\r\n    return await instance.put(`profile/status/`, { status })\r\n  },\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  \r\n  return state\r\n}\r\n\r\n\r\nexport default sidebarReducer","import { authAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payLoad\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData =(userId, email, login, isAuth) =>\r\n  ({type: SET_USER_DATA, payLoad: {userId, email, login, isAuth}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.auth()\r\n\r\n  if(response.data.resultCode === 0) {\r\n    let {id, login, email} = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe)\r\n\r\n  if(response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', {_error: message}))\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout()\r\n  \r\n  if(response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\n\r\nexport default authReducer","import { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZING_SUCCEEDED = 'INITIALIZING_SUCCEEDED'\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case INITIALIZING_SUCCEEDED:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializingSucceeded = () => ({type: INITIALIZING_SUCCEEDED})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData())\r\n  // promise.then( () => {\r\n  //   dispatch(initializingSucceeded())\r\n  // })\r\n  Promise.all([promise]).then( () => {   //так можно выполнять действия после выполнени всех промисов\r\n    dispatch(initializingSucceeded())    //надо добавить другие промисы в массив с promise\r\n  })\r\n}\r\n\r\nexport default appReducer","import { applyMiddleware, combineReducers, createStore, compose } from 'redux'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\n//этот вариант стандартный, а ниже - подключается плагин redux tools для браузера\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, { Suspense } from 'react'\r\nimport Preloader from '../components/common/Preloader/Preloader'\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n  return (props) => {\r\n    return <Suspense fallback={<Preloader />}>\r\n      <Component {...props} />\r\n    </Suspense>\r\n  }\r\n}\r\n\r\nexport default withSuspense","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\n\r\n\r\nconst Navbar = () => {\r\n  // alert('nav')\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        src='https://w7.pngwing.com/pngs/20/70/png-transparent-universal-declaration-of-human-rights-human-rights-logo-symbol-human-law-blue-hand-logo.png'\r\n        alt=\"my social_network\"\r\n      />\r\n      <div className={s.loginBlock}>\r\n        { props.isAuth ?\r\n          <div>\r\n            <div>{ props.login }</div>\r\n            <button onClick={ props.logout }>Logout</button>\r\n          </div>\r\n          :\r\n          <NavLink to={'/login'}>Login</NavLink>\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/auth-reducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)","import React from 'react'\r\n// import s from './Login.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Input } from '../common/FormControls/FormControls'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport s from '../common/FormControls/FormControls.module.css'\r\n\r\n// const FormControl = ({input, meta, child, ...props}) => {\r\n//   const hasError = meta.touched && meta.error\r\n\r\n//   return (\r\n//     <div className={s.formControl + ' ' + (hasError && s.error)}>\r\n//       <div>\r\n//         { props.child }\r\n//       </div>\r\n//       { hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          name={'email'}\r\n          component={Input}\r\n          validate={[required]}\r\n          placeholder={'Email'}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          name={'password'}\r\n          component={Input}\r\n          validate={[required]}\r\n          placeholder={'Password'}\r\n          type={'password'}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          name={'rememberMe'}\r\n          type={'checkbox'}\r\n          component={'input'}\r\n        /> Remember me\r\n      </div>\r\n      { props.error &&\r\n        <div className={s.formSummaryError}>\r\n          {props.error}\r\n        </div>\r\n      }\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n  // console.log('PROPS', props)\r\n  const onSubmit = (formData) => {\r\n    console.log('formData', formData)\r\n    props.login(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if(props.isAuth) {\r\n    return <Redirect to='/profile' />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import React from 'react'\r\nimport s from './News.module.css'\r\n\r\n\r\nconst News = (props) => {\r\n  return(\r\n    <div>News</div>\r\n  )\r\n}\r\n\r\nexport default News","import React from 'react'\r\nimport s from './Music.module.css'\r\n\r\n\r\nconst Music = (props) => {\r\n  return(\r\n    <div>Music</div>\r\n  )\r\n}\r\n\r\nexport default Music","import React from 'react'\r\nimport s from './Settings.module.css'\r\n\r\n\r\nconst Settings = (props) => {\r\n  return(\r\n    <div>Settings</div>\r\n  )\r\n}\r\n\r\nexport default Settings","import React from 'react'\nimport { Route, withRouter } from 'react-router-dom'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { initializeApp } from './redux/app-reducer'\n\nimport './App.css'\nimport withSuspense from './hoc/withSuspense'\n\nimport Navbar from './components/Navbar/Navbar'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Preloader from './components/common/Preloader/Preloader'\nimport Login from './components/Login/Login'\n\nimport News from './components/News/News'\nimport Music from './components/Music/Music'\nimport Settings from './components/Settings/Settings'\n// import DialogsContainer from './components/Dialogs/DialogsContainer'\n// import ProfileContainer from './components/Profile/ProfileContainer'\n// import UsersContainer from './components/Users/UsersContainer'\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n          <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n          <Route path='/users' render={withSuspense(UsersContainer)} />\n          <Route path='/news' render={() => <News />} />\n          <Route path='/music' render={() => <Music />} />\n          <Route path='/settings' render={() => <Settings />} />\n          <Route path='/login' render={() => <Login />} />\n        </div>\n      </div>)\n  }\n}\n\nconst mapStateToprops = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect( mapStateToprops, { initializeApp } )\n)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n// import { BrowserRouter } from 'react-router-dom'\nimport { HashRouter } from 'react-router-dom'  //используй его вместо BrowserRouter для деплоя на gitgub pages. Запусти npm run deploy\nimport reportWebVitals from './reportWebVitals'\nimport store from './redux/redux-store'\nimport './index.css'\nimport App from './App'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2lVog\",\"error\":\"FormControls_error__13Iaq\",\"formSummaryError\":\"FormControls_formSummaryError__H83dQ\"};","export default __webpack_public_path__ + \"static/media/spinner200.ced94e52.svg\";","import React from 'react'\r\nimport s from './Preloader.module.css'\r\nimport preloader_img from '../../../assets/images/spinner200.svg'\r\n\r\nconst Preloader = (props) => {\r\n  return <div className={s.preloader}><img src={preloader_img} alt=\"preloader\"/></div>\r\n}\r\n\r\nexport default Preloader","import React from 'react'\r\nimport s from './FormControls.module.css'\r\n\r\n//вообще, всё, что здесь происходит, я ещё не до конца понял\r\n//более понятный варинат того же - в конце файла закомментирован\r\n\r\nexport const FormControl = (props) => {\r\n  // console.log('props2: ', props)\r\n  // console.log('======================================')\r\n  const hasError = props.touched && props.error\r\n\r\n  return (\r\n    <div className={s.formControl + ' ' + (hasError && s.error)}>\r\n      <div>\r\n        { props.children }\r\n      </div>\r\n      { hasError && <span>{props.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, ...restProps} = props\r\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, ...restProps} = props\r\n  return <FormControl {...meta}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error\r\n\r\n//   return (\r\n//     <div className={s.formControl + ' ' + (hasError && s.error)}>\r\n//       <div>\r\n//         <textarea {...input} {...props} />  \r\n//       </div>\r\n//       { hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error\r\n\r\n//   return (\r\n//     <div className={s.formControl + ' ' + (hasError && s.error)}>\r\n//       <div>\r\n//         <input {...input} {...props} />  \r\n//       </div>\r\n//       { hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }","export const required = value => {\r\n  if(value) return undefined\r\n  \r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  // if(value && value.lenght > 30) return 'Max length is 30 symbols' //а здесь ещё проверяет, что value вообще есть\r\n  if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}\r\n\r\n// export const maxLength30 = value => {\r\n//   // if(value && value.lenght > 30) return 'Max length is 30 symbols' //а здесь ещё проверяет, что value вообще есть\r\n//   if(value.length > 30) return 'Max length is 30 symbols'\r\n//   return undefined\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2-g9z\",\"loginBlock\":\"Header_loginBlock__28XJ8\"};","import { profileAPI } from '../api/api'\r\n\r\nconst ADD_POST = 'ADD_POST'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\n\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, name:'Dima', age:'30', message:'Hi, how are you?', likesCount:'4'},\r\n    {id: 2, name:'Vova', age:'32', message:'It\\'s a nice thing!', likesCount:'15'},\r\n    {id: 3, name:'Alex V.', age:'18', message:'Hello friend!', likesCount:'1'},\r\n    {id: 4, name:'Nikolay S.', age:'21', message:'Wow, cool!', likesCount:'23'},\r\n    {id: 5, name:'Semyon Popov', age:'45', message:'Hi!', likesCount:'110'},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 6, name: 'Daniel', message: action.newPostBody, likesCount: 0}]\r\n      }\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.postId)\r\n        }\r\n\r\n    default:\r\n      return state\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n  }\r\n}\r\n\r\n\r\nexport const addPost = (newPostBody) => ({type: ADD_POST, newPostBody})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n  profileAPI.getProfile(userId).then( response => dispatch(setUserProfile(response.data)) )\r\n}\r\n\r\nexport const getUserStatus = (userId) => (dispatch) => {\r\n  profileAPI.getStatus(userId).then( response => dispatch(setUserStatus(response.data)) )\r\n}\r\n\r\nexport const updateUserStatus = (status) => (dispatch) => {\r\n  profileAPI.updateStatus(status).then( response => {\r\n    if(response.data.resultCode === 0) {\r\n      dispatch(setUserStatus(status))\r\n    }\r\n  })\r\n}\r\n\r\nexport default profileReducer","const SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: '1', name: 'Vladimir' },\r\n    { id: '2', name: 'Petr' },\r\n    { id: '3', name: 'Ivan' },\r\n    { id: '4', name: 'Semyon' },\r\n    { id: '5', name: 'John' },\r\n    { id: '6', name: 'James' },\r\n  ],\r\n  messages: [\r\n    { id: '1', message: 'Hello friend!' },\r\n    { id: '2', message: 'How are you doing?' },\r\n    { id: '3', message: 'Everything is very good!' },\r\n    { id: '4', message: ':)' },\r\n    { id: '5', message: 'Hi, mate! How are you?' },\r\n    { id: '6', message: 'OMG!' },\r\n  ]\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  \r\n  switch(action.type) {\r\n\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages:[...state.messages, {id: 7, message: action.newMessageBody}]\r\n      }\r\n      \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer"],"sourceRoot":""}